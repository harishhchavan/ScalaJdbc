/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Scala application project to get you started.
 * For more details on building Java & JVM projects, please refer to https://docs.gradle.org/9.1.0/userguide/building_java_projects.html in the Gradle documentation.
 */

plugins {

    //Adds scala compiler, tasks, java+scala support
    id 'scala'

    // ~ like gradle run, defines main class
    id 'application'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    // Used Scala 2.13 project
    implementation libs.scala.library

    //utilities (optional)
    implementation libs.guava


    //reading application.conf(ConfigFactory)
    implementation "com.typesafe:config:1.4.3"


    //Testing Dependancies

    //scalaTest framework
    testImplementation "org.scalatest:scalatest_2.13:3.2.19"


    //requires by JUnit engine
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher:1.10.2'


    //JUnit 5 support for Gradle test detection)
    testRuntimeOnly "org.scalatestplus:junit-5-10_2.13:3.2.19.0"

    //mockito for unit testing
    testImplementation 'org.mockito:mockito-core:5.12.0'


    //SQL server
    implementation "com.microsoft.sqlserver:mssql-jdbc:12.4.2.jre11"


    //scala XML runtime(runtime for some tests)
    testRuntimeOnly 'org.scala-lang.modules:scala-xml_2.13:2.2.0'


    //CSV parsing library
    implementation "com.github.tototoshi:scala-csv_2.13:1.3.10"


    //slf4j + logback
    implementation "org.slf4j:slf4j-api:2.0.13"
    implementation "ch.qos.logback:logback-classic:1.5.6"


    //H2 Database
    implementation "com.h2database:h2:2.2.224"

}

//java verison.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}


// Define the main class for the application.
application {
    mainClass = "com.scala.Artists.app.CSVLoader"
}

//scalaTest run under JUnit 5
tasks.test{
    useJUnitPlatform()
}